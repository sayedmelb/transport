<div class="row">
    <div class="col-12">
      <h2>Bus Reports</h2>
    </div>
    <div class="col-12">
      <ngx-datatable
        #table
        style="height: 100% !important"
        class="tableWidget"
        columnMode="force"
        [rows]="busData"
        [limit]="10"
        [columnMode]="'force'"
        [headerHeight]="30"
        [footerHeight]="50"
        [rowHeight]="'100%'"
        [scrollbarV]="false"
        [scrollbarH]="false"
        [selectionType]="'multi'"
        [columns]="columns"
      >
        <!-- 
         [externalPaging]="true"
        (select)="onSelect($event)" -->
        <ng-template ngFor let-col [ngForOf]="columns">
          <ngx-datatable-column
            [name]="col.title"
            [prop]="col.prop"
            headerClass="{{ col.headerclass }}"
            cellClass="{{ col.cellClass }}"
          >
            <ng-template
              let-column="col"
              ngx-datatable-header-template
              let-sort="sortFn"
            >
              <span (click)="sort()"> </span>
            </ng-template>
  
            <ng-template
              let-column="col"
              let-row="row"
              let-value="value"
              let-rowIndex="rowIndex"
              ngx-datatable-cell-template
            >
              <div class="row">
                <div class="col-12">
                  <span class="operator-heading"
                    >{{ row.organisation }} - {{ row.date }}</span
                  >
                </div>
                <div class="col-12">
                  <div class="row">
                    <div class="col-4">Bus Id</div>
                    <div class="col-4">Route variant</div>
                    <div class="col-4">Status</div>
                    <ng-container *ngFor="let bus of row.busData; index as ind">
                      <div class="col-4">{{bus.busId}}</div>
                      <div class="col-4">{{bus.routeVariant}}</div>
                      <div class="col-4">{{bus.deviationFromTimetable}}</div>
                    </ng-container>
                    <div class="col-12">
                       
                        <input type="text" [(ngModel)]="row.notes" placeholder="Enter notes" />
                    </div>
                    <div class="col-12"><button [disabled]="row.notes.length===0"  (click)="onSaveNotes(row)" class="btn btn-primary">Save Notes</button></div>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>
        </ng-template>
      </ngx-datatable>
    </div>
  </div>
  